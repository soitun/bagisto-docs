import{_ as i,a,o as e,ag as t}from"./chunks/framework.C2qfZH9T.js";const o=JSON.parse('{"title":"Understanding Core Class","description":"","frontmatter":{},"headers":[],"relativePath":"advanced/understanding-core-class.md","filePath":"advanced/understanding-core-class.md","lastUpdated":1757662011000}'),n={name:"advanced/understanding-core-class.md"};function h(l,s,p,r,k,d){return e(),a("div",null,s[0]||(s[0]=[t(`<h1 id="understanding-core-class" tabindex="-1">Understanding Core Class <a class="header-anchor" href="#understanding-core-class" aria-label="Permalink to &quot;Understanding Core Class&quot;">​</a></h1><p>Bagisto provides a comprehensive helper system built around the Core class to streamline development and provide easy access to essential functionality. These helpers eliminate the need for repetitive code patterns and offer a consistent API for common operations across channels, currencies, locales, and configuration management.</p><h2 id="introduction" tabindex="-1">Introduction <a class="header-anchor" href="#introduction" aria-label="Permalink to &quot;Introduction&quot;">​</a></h2><p>The Core class (<code>Webkul\\Core\\Core</code>) serves as Bagisto&#39;s central utility hub, providing a unified interface for accessing system-wide functionality. It acts as a facade that abstracts complex operations into simple, memorable method calls.</p><h3 id="architecture-overview" tabindex="-1">Architecture Overview <a class="header-anchor" href="#architecture-overview" aria-label="Permalink to &quot;Architecture Overview&quot;">​</a></h3><p>The Core class is designed around Bagisto&#39;s multi-tenant architecture, where:</p><ul><li><strong>Channels</strong> represent different storefronts or websites</li><li><strong>Locales</strong> handle internationalization and language settings</li><li><strong>Currencies</strong> manage multi-currency operations</li><li><strong>Configuration</strong> provides centralized settings management</li></ul><h3 id="accessing-the-core-class" tabindex="-1">Accessing the Core Class <a class="header-anchor" href="#accessing-the-core-class" aria-label="Permalink to &quot;Accessing the Core Class&quot;">​</a></h3><p>Bagisto provides a global <code>core()</code> helper function that returns the Core class instance:</p><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Direct access to Core class methods</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$version </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> core</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">version</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$currentChannel </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> core</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getCurrentChannel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$allCurrencies </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> core</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getAllCurrencies</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">Global Helper Function</p><p>The <code>core()</code> function is globally available throughout your Bagisto application, making it accessible in controllers, views, service providers, and custom classes without any imports.</p></div><h3 id="core-class-benefits" tabindex="-1">Core Class Benefits <a class="header-anchor" href="#core-class-benefits" aria-label="Permalink to &quot;Core Class Benefits&quot;">​</a></h3><ul><li><strong>Consistency</strong>: Standardized API across all Bagisto operations</li><li><strong>Simplicity</strong>: Complex operations reduced to single method calls</li><li><strong>Context Awareness</strong>: Automatically handles current channel/locale context</li><li><strong>Performance</strong>: Optimized caching and lazy loading for frequently accessed data</li></ul><h3 id="internal-architecture" tabindex="-1">Internal Architecture <a class="header-anchor" href="#internal-architecture" aria-label="Permalink to &quot;Internal Architecture&quot;">​</a></h3><p>The Core class maintains several protected properties for caching and performance:</p><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">protected</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $currentChannel;    </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Cached current channel</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">protected</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $defaultChannel;    </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Cached default channel  </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">protected</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $currentCurrency;   </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Cached current currency</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">protected</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $baseCurrency;      </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Cached base currency</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">protected</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $currentLocale;     </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Cached current locale</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">protected</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $guestCustomerGroup; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Cached guest customer group</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">protected</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $exchangeRates </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> []; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Cached exchange rates</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">protected</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $taxCategoriesById </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> []; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Cached tax categories</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">protected</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $singletonInstances </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> []; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Cached singleton instances</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">Caching Strategy</p><p>The Core class implements intelligent caching to minimize database queries. Once a channel, currency, or locale is loaded, it&#39;s stored in memory for the request lifecycle.</p></div><h2 id="core-helper-methods" tabindex="-1">Core Helper Methods <a class="header-anchor" href="#core-helper-methods" aria-label="Permalink to &quot;Core Helper Methods&quot;">​</a></h2><p>The following sections detail the various helper methods available through the Core class, organized by functionality area.</p><h3 id="system-information" tabindex="-1">System Information <a class="header-anchor" href="#system-information" aria-label="Permalink to &quot;System Information&quot;">​</a></h3><h4 id="get-the-version-number-of-bagisto" tabindex="-1">Get the version number of Bagisto <a class="header-anchor" href="#get-the-version-number-of-bagisto" aria-label="Permalink to &quot;Get the version number of Bagisto&quot;">​</a></h4><p>To get the version number of your Bagisto application, you can use the <code>core()-&gt;version()</code> method:</p><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$version </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> core</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">version</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Returns: &quot;v2.3.6&quot;</span></span></code></pre></div><h3 id="channel-management" tabindex="-1">Channel Management <a class="header-anchor" href="#channel-management" aria-label="Permalink to &quot;Channel Management&quot;">​</a></h3><p>Channels in Bagisto represent different storefronts or websites, enabling multi-channel retailing from a single installation.</p><h4 id="get-all-channels" tabindex="-1">Get all channels <a class="header-anchor" href="#get-all-channels" aria-label="Permalink to &quot;Get all channels&quot;">​</a></h4><p>The <code>core()-&gt;getAllChannels()</code> method retrieves all available channels in the application, useful for channel selection interfaces and multi-channel operations:</p><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$channels </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> core</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getAllChannels</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Returns: Collection of channel models</span></span></code></pre></div><h4 id="get-current-channel-model" tabindex="-1">Get current channel model <a class="header-anchor" href="#get-current-channel-model" aria-label="Permalink to &quot;Get current channel model&quot;">​</a></h4><p>The <code>core()-&gt;getCurrentChannel()</code> method retrieves the current channel being accessed:</p><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$currentChannel </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> core</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getCurrentChannel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Returns: Current channel model with all properties</span></span></code></pre></div><h4 id="set-the-current-channel" tabindex="-1">Set the current channel <a class="header-anchor" href="#set-the-current-channel" aria-label="Permalink to &quot;Set the current channel&quot;">​</a></h4><p>Dynamically change the active channel:</p><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">core</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setCurrentChannel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">($channel);</span></span></code></pre></div><h4 id="get-current-channel-code" tabindex="-1">Get current channel code <a class="header-anchor" href="#get-current-channel-code" aria-label="Permalink to &quot;Get current channel code&quot;">​</a></h4><p>Retrieve just the code of the currently active channel:</p><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$channelCode </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> core</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getCurrentChannelCode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Returns: &quot;default&quot;, &quot;mobile&quot;, etc.</span></span></code></pre></div><h4 id="get-default-channel-model" tabindex="-1">Get default channel model <a class="header-anchor" href="#get-default-channel-model" aria-label="Permalink to &quot;Get default channel model&quot;">​</a></h4><p>Access the default channel configuration:</p><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$defaultChannel </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> core</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getDefaultChannel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre></div><h4 id="get-default-channel-code" tabindex="-1">Get default channel code <a class="header-anchor" href="#get-default-channel-code" aria-label="Permalink to &quot;Get default channel code&quot;">​</a></h4><p>Retrieve the default channel code from configuration:</p><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$defaultCode </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> core</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getDefaultChannelCode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre></div><h4 id="get-default-locale-code-from-default-channel" tabindex="-1">Get default locale code from default channel <a class="header-anchor" href="#get-default-locale-code-from-default-channel" aria-label="Permalink to &quot;Get default locale code from default channel&quot;">​</a></h4><p>Get the locale code for the default language in the default channel:</p><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$defaultLocaleCode </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> core</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getDefaultLocaleCodeFromDefaultChannel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre></div><h4 id="get-channel-from-request" tabindex="-1">Get channel from request <a class="header-anchor" href="#get-channel-from-request" aria-label="Permalink to &quot;Get channel from request&quot;">​</a></h4><p>Retrieve the channel based on the current HTTP request:</p><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$requestedChannel </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> core</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getRequestedChannel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre></div><h4 id="get-channel-code-from-request" tabindex="-1">Get channel code from request <a class="header-anchor" href="#get-channel-code-from-request" aria-label="Permalink to &quot;Get channel code from request&quot;">​</a></h4><p>Get just the channel code from the current request:</p><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$requestedCode </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> core</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getRequestedChannelCode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre></div><h4 id="get-channel-name" tabindex="-1">Get channel name <a class="header-anchor" href="#get-channel-name" aria-label="Permalink to &quot;Get channel name&quot;">​</a></h4><p>Retrieve the display name of the current channel:</p><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$channelName </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> core</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getChannelName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">($channel);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Note: Requires passing a channel object as parameter</span></span></code></pre></div><div class="info custom-block"><p class="custom-block-title">Parameter Required</p><p>Unlike other channel methods, <code>getChannelName()</code> requires a channel object as a parameter. It handles translation fallbacks automatically.</p></div><h3 id="locale-management" tabindex="-1">Locale Management <a class="header-anchor" href="#locale-management" aria-label="Permalink to &quot;Locale Management&quot;">​</a></h3><p>Locales handle internationalization, language settings, and regional preferences.</p><h4 id="get-all-locales" tabindex="-1">Get all locales <a class="header-anchor" href="#get-all-locales" aria-label="Permalink to &quot;Get all locales&quot;">​</a></h4><p>Retrieve all available locales in the system:</p><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$locales </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> core</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getAllLocales</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Returns: Collection of locale models</span></span></code></pre></div><h4 id="get-current-locale" tabindex="-1">Get current locale <a class="header-anchor" href="#get-current-locale" aria-label="Permalink to &quot;Get current locale&quot;">​</a></h4><p>Get the currently active locale:</p><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$currentLocale </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> core</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getCurrentLocale</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre></div><h4 id="get-locale-from-request" tabindex="-1">Get locale from request <a class="header-anchor" href="#get-locale-from-request" aria-label="Permalink to &quot;Get locale from request&quot;">​</a></h4><p>Retrieve the locale from the current request:</p><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$requestedLocale </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> core</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getRequestedLocale</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre></div><h4 id="get-locale-code-from-request" tabindex="-1">Get locale code from request <a class="header-anchor" href="#get-locale-code-from-request" aria-label="Permalink to &quot;Get locale code from request&quot;">​</a></h4><p>Get the locale code with optional fallback:</p><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$localeCode </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> core</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getRequestedLocaleCode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">($localeKey </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;locale&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, $fallback </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><p>Parameters:</p><ul><li><code>$localeKey</code>: The key to look for in the request (default: &#39;locale&#39;)</li><li><code>$fallback</code>: Whether to provide a fallback locale if not found (default: true)</li></ul><h4 id="get-locale-code-in-requested-channel" tabindex="-1">Get locale code in requested channel <a class="header-anchor" href="#get-locale-code-in-requested-channel" aria-label="Permalink to &quot;Get locale code in requested channel&quot;">​</a></h4><p>Ensure the locale code is valid for the requested channel:</p><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$validLocaleCode </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> core</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getRequestedLocaleCodeInRequestedChannel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre></div><p>If not found, this method sets the channel&#39;s default locale code.</p><h3 id="currency-management" tabindex="-1">Currency Management <a class="header-anchor" href="#currency-management" aria-label="Permalink to &quot;Currency Management&quot;">​</a></h3><p>Bagisto&#39;s currency helpers facilitate multi-currency operations and conversions.</p><h4 id="get-all-currencies" tabindex="-1">Get all currencies <a class="header-anchor" href="#get-all-currencies" aria-label="Permalink to &quot;Get all currencies&quot;">​</a></h4><p>Retrieve all available currencies:</p><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$currencies </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> core</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getAllCurrencies</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre></div><h4 id="get-base-currency-model" tabindex="-1">Get base currency model <a class="header-anchor" href="#get-base-currency-model" aria-label="Permalink to &quot;Get base currency model&quot;">​</a></h4><p>Get the application&#39;s base currency:</p><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$baseCurrency </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> core</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getBaseCurrency</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre></div><h4 id="get-base-currency-code" tabindex="-1">Get base currency code <a class="header-anchor" href="#get-base-currency-code" aria-label="Permalink to &quot;Get base currency code&quot;">​</a></h4><p>Retrieve the base currency code:</p><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$baseCurrencyCode </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> core</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getBaseCurrencyCode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre></div><h4 id="get-channel-s-base-currency" tabindex="-1">Get channel&#39;s base currency <a class="header-anchor" href="#get-channel-s-base-currency" aria-label="Permalink to &quot;Get channel&#39;s base currency&quot;">​</a></h4><p>Get the base currency model for the current channel:</p><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$channelBaseCurrency </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> core</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getChannelBaseCurrency</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre></div><h4 id="get-channel-s-base-currency-code" tabindex="-1">Get channel&#39;s base currency code <a class="header-anchor" href="#get-channel-s-base-currency-code" aria-label="Permalink to &quot;Get channel&#39;s base currency code&quot;">​</a></h4><p>Retrieve the base currency code for the current channel:</p><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$channelBaseCurrencyCode </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> core</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getChannelBaseCurrencyCode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre></div><h4 id="set-current-currency" tabindex="-1">Set current currency <a class="header-anchor" href="#set-current-currency" aria-label="Permalink to &quot;Set current currency&quot;">​</a></h4><p>Change the active currency:</p><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">core</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setCurrentCurrency</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">($currencyCode);</span></span></code></pre></div><h4 id="get-current-currency-model" tabindex="-1">Get current currency model <a class="header-anchor" href="#get-current-currency-model" aria-label="Permalink to &quot;Get current currency model&quot;">​</a></h4><p>Retrieve the current channel&#39;s currency:</p><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$currentCurrency </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> core</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getCurrentCurrency</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre></div><h4 id="get-current-currency-code" tabindex="-1">Get current currency code <a class="header-anchor" href="#get-current-currency-code" aria-label="Permalink to &quot;Get current currency code&quot;">​</a></h4><p>Get the current channel&#39;s currency code:</p><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$currentCurrencyCode </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> core</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getCurrentCurrencyCode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre></div><h4 id="get-exchange-rates" tabindex="-1">Get exchange rates <a class="header-anchor" href="#get-exchange-rates" aria-label="Permalink to &quot;Get exchange rates&quot;">​</a></h4><p>Retrieve exchange rate information by target currency ID:</p><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$exchangeRate </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> core</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getExchangeRate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">($targetCurrencyId);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Returns: ExchangeRate model or null</span></span></code></pre></div><div class="warning custom-block"><p class="custom-block-title">Parameter Type</p><p>This method expects a currency ID (integer), not a currency code. Use the currency model&#39;s ID property.</p></div><h4 id="convert-price" tabindex="-1">Convert price <a class="header-anchor" href="#convert-price" aria-label="Permalink to &quot;Convert price&quot;">​</a></h4><p>Convert an amount to a target currency:</p><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$amount </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$targetCurrencyCode </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;EUR&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$convertedAmount </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> core</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">convertPrice</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">($amount, $targetCurrencyCode);</span></span></code></pre></div><h4 id="convert-to-base-price" tabindex="-1">Convert to base price <a class="header-anchor" href="#convert-to-base-price" aria-label="Permalink to &quot;Convert to base price&quot;">​</a></h4><p>Convert an amount from a specific currency to the base currency:</p><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$amount </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 200</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$targetCurrencyCode </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;EUR&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$baseAmount </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> core</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">convertToBasePrice</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">($amount, $targetCurrencyCode);</span></span></code></pre></div><h4 id="format-and-convert-price-with-currency" tabindex="-1">Format and convert price with currency <a class="header-anchor" href="#format-and-convert-price-with-currency" aria-label="Permalink to &quot;Format and convert price with currency&quot;">​</a></h4><p>The <code>currency()</code> method formats and converts a price with automatic currency conversion:</p><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$formattedPrice </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> core</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">currency</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">($amount);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Converts to current currency and formats with symbol</span></span></code></pre></div><h4 id="format-price-with-currency" tabindex="-1">Format price with currency <a class="header-anchor" href="#format-price-with-currency" aria-label="Permalink to &quot;Format price with currency&quot;">​</a></h4><p>Format and display a price with currency symbol:</p><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$price </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$currencyCode </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;USD&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Optional, uses current currency if not provided</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$formattedPrice </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> core</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">formatPrice</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">($price, $currencyCode);</span></span></code></pre></div><h4 id="format-base-price" tabindex="-1">Format base price <a class="header-anchor" href="#format-base-price" aria-label="Permalink to &quot;Format base price&quot;">​</a></h4><p>Format a price with the base currency symbol:</p><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$formattedBasePrice </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> core</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">formatBasePrice</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">($price, $isEncoded </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><p>The <code>$isEncoded</code> parameter controls whether to encode the currency symbol.</p><h3 id="date-and-time-helpers" tabindex="-1">Date and Time Helpers <a class="header-anchor" href="#date-and-time-helpers" aria-label="Permalink to &quot;Date and Time Helpers&quot;">​</a></h3><h4 id="check-if-date-is-in-interval" tabindex="-1">Check if date is in interval <a class="header-anchor" href="#check-if-date-is-in-interval" aria-label="Permalink to &quot;Check if date is in interval&quot;">​</a></h4><p>Verify if the current channel date falls within a specified range:</p><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$isInRange </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> core</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">isChannelDateInInterval</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">($dateFrom </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, $dateTo </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><h4 id="get-channel-timestamp" tabindex="-1">Get channel timestamp <a class="header-anchor" href="#get-channel-timestamp" aria-label="Permalink to &quot;Get channel timestamp&quot;">​</a></h4><p>Get a timestamp adjusted for the channel&#39;s timezone:</p><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$timestamp </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> core</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">channelTimeStamp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">($channel);</span></span></code></pre></div><h4 id="check-if-sql-date-is-empty" tabindex="-1">Check if SQL date is empty <a class="header-anchor" href="#check-if-sql-date-is-empty" aria-label="Permalink to &quot;Check if SQL date is empty&quot;">​</a></h4><p>Validate whether a SQL date field is empty:</p><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$isEmpty </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> core</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">is_empty_date</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">($date);</span></span></code></pre></div><h4 id="format-date-using-current-channel" tabindex="-1">Format date using current channel <a class="header-anchor" href="#format-date-using-current-channel" aria-label="Permalink to &quot;Format date using current channel&quot;">​</a></h4><p>Format a date according to channel timezone and locale:</p><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$formattedDate </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> core</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">formatDate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">($date </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, $format </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;d-m-Y H:i:s&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><h3 id="configuration-management" tabindex="-1">Configuration Management <a class="header-anchor" href="#configuration-management" aria-label="Permalink to &quot;Configuration Management&quot;">​</a></h3><h4 id="retrieve-configuration-data" tabindex="-1">Retrieve configuration data <a class="header-anchor" href="#retrieve-configuration-data" aria-label="Permalink to &quot;Retrieve configuration data&quot;">​</a></h4><p>Get specific configuration values with channel and locale context:</p><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$configValue </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> core</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getConfigData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">($field, $channelCode </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, $localeCode </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Delegates to system_config()-&gt;getConfigData()</span></span></code></pre></div><h4 id="get-configuration-field" tabindex="-1">Get configuration field <a class="header-anchor" href="#get-configuration-field" aria-label="Permalink to &quot;Get configuration field&quot;">​</a></h4><p>Access a specific configuration field structure:</p><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$fieldStructure </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> core</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getConfigField</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">($fieldName);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Returns: Configuration field definition array</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">System Config Integration</p><p>The Core class delegates configuration operations to the system configuration manager, providing a unified interface for accessing settings.</p></div><h3 id="geographic-data-helpers" tabindex="-1">Geographic Data Helpers <a class="header-anchor" href="#geographic-data-helpers" aria-label="Permalink to &quot;Geographic Data Helpers&quot;">​</a></h3><h4 id="get-all-countries" tabindex="-1">Get all countries <a class="header-anchor" href="#get-all-countries" aria-label="Permalink to &quot;Get all countries&quot;">​</a></h4><p>Retrieve all available countries:</p><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$countries </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> core</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">countries</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre></div><h4 id="get-country-name-by-code" tabindex="-1">Get country name by code <a class="header-anchor" href="#get-country-name-by-code" aria-label="Permalink to &quot;Get country name by code&quot;">​</a></h4><p>Get country name using ISO 3166-1 alpha-2 code:</p><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$countryName </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> core</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">country_name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">($code);</span></span></code></pre></div><h4 id="get-country-states" tabindex="-1">Get country states <a class="header-anchor" href="#get-country-states" aria-label="Permalink to &quot;Get country states&quot;">​</a></h4><p>Retrieve all states/provinces for a country:</p><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$states </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> core</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">states</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">($countryCode);</span></span></code></pre></div><h4 id="get-grouped-states-by-countries" tabindex="-1">Get grouped states by countries <a class="header-anchor" href="#get-grouped-states-by-countries" aria-label="Permalink to &quot;Get grouped states by countries&quot;">​</a></h4><p>Get all states organized by country:</p><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$groupedStates </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> core</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">groupedStatesByCountries</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre></div><h4 id="find-state-by-country-code" tabindex="-1">Find state by country code <a class="header-anchor" href="#find-state-by-country-code" aria-label="Permalink to &quot;Find state by country code&quot;">​</a></h4><p>Get specific state information:</p><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$state </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> core</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">findStateByCountryCode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">($countryCode </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, $stateCode </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><h4 id="check-field-requirements" tabindex="-1">Check field requirements <a class="header-anchor" href="#check-field-requirements" aria-label="Permalink to &quot;Check field requirements&quot;">​</a></h4><p>Verify if address fields are required:</p><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$isCountryRequired </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> core</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">isCountryRequired</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$isStateRequired </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> core</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">isStateRequired</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$isPostCodeRequired </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> core</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">isPostCodeRequired</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre></div><h3 id="customer-management" tabindex="-1">Customer Management <a class="header-anchor" href="#customer-management" aria-label="Permalink to &quot;Customer Management&quot;">​</a></h3><h4 id="get-guest-customer-group" tabindex="-1">Get guest customer group <a class="header-anchor" href="#get-guest-customer-group" aria-label="Permalink to &quot;Get guest customer group&quot;">​</a></h4><p>Retrieve the guest customer group configuration:</p><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$guestGroup </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> core</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getGuestCustomerGroup</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre></div><h3 id="utility-methods" tabindex="-1">Utility Methods <a class="header-anchor" href="#utility-methods" aria-label="Permalink to &quot;Utility Methods&quot;">​</a></h3><h4 id="get-maximum-upload-size" tabindex="-1">Get maximum upload size <a class="header-anchor" href="#get-maximum-upload-size" aria-label="Permalink to &quot;Get maximum upload size&quot;">​</a></h4><p>Retrieve the maximum file upload size from PHP configuration:</p><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$maxSize </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> core</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getMaxUploadSize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Returns: Value from ini_get(&#39;upload_max_filesize&#39;)</span></span></code></pre></div><h4 id="week-range-calculation" tabindex="-1">Week range calculation <a class="header-anchor" href="#week-range-calculation" aria-label="Permalink to &quot;Week range calculation&quot;">​</a></h4><p>Calculate week start or end dates:</p><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$weekStart </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> core</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">xWeekRange</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">($date, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Week start (Sunday)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$weekEnd </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> core</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">xWeekRange</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">($date, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);   </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Week end (Saturday)</span></span></code></pre></div><p>Parameters:</p><ul><li><code>$date</code>: Date string to calculate from</li><li><code>$day</code>: 0 for week start, 1 for week end</li></ul><h4 id="convert-empty-strings-to-null" tabindex="-1">Convert empty strings to null <a class="header-anchor" href="#convert-empty-strings-to-null" aria-label="Permalink to &quot;Convert empty strings to null&quot;">​</a></h4><p>Clean up array data by converting empty strings to null:</p><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$cleanedArray </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> core</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">convertEmptyStringsToNull</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">($array);</span></span></code></pre></div><h4 id="create-singleton-instance" tabindex="-1">Create singleton instance <a class="header-anchor" href="#create-singleton-instance" aria-label="Permalink to &quot;Create singleton instance&quot;">​</a></h4><p>Get singleton instances through the service container:</p><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$instance </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> core</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getSingletonInstance</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">($className);</span></span></code></pre></div><h4 id="tax-related-helpers" tabindex="-1">Tax-related helpers <a class="header-anchor" href="#tax-related-helpers" aria-label="Permalink to &quot;Tax-related helpers&quot;">​</a></h4><p>Generate tax rate identifiers for view elements:</p><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$taxIdentifier </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> core</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">taxRateAsIdentifier</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">($taxRate);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Returns: Tax rate with dots replaced by underscores</span></span></code></pre></div><p>Get tax category by ID with caching:</p><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$taxCategory </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> core</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getTaxCategoryById</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">($id);</span></span></code></pre></div><h4 id="email-configuration-helpers" tabindex="-1">Email configuration helpers <a class="header-anchor" href="#email-configuration-helpers" aria-label="Permalink to &quot;Email configuration helpers&quot;">​</a></h4><p>Retrieve email sender details:</p><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$shopEmailDetails </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> core</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getSenderEmailDetails</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$adminEmailDetails </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> core</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getAdminEmailDetails</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$contactEmailDetails </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> core</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getContactEmailDetails</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre></div><p>Each method returns an array with &#39;name&#39; and &#39;email&#39; keys, with automatic fallbacks to configuration defaults.</p><h3 id="performance-and-advanced-features" tabindex="-1">Performance and Advanced Features <a class="header-anchor" href="#performance-and-advanced-features" aria-label="Permalink to &quot;Performance and Advanced Features&quot;">​</a></h3><h4 id="get-speculation-rules" tabindex="-1">Get speculation rules <a class="header-anchor" href="#get-speculation-rules" aria-label="Permalink to &quot;Get speculation rules&quot;">​</a></h4><p>Retrieve browser speculation rules for performance optimization:</p><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$speculationRules </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> core</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getSpeculationRules</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Returns: Array of prerender and prefetch rules based on configuration</span></span></code></pre></div><p>This method generates speculation rules for browser performance optimization, including prerender and prefetch configurations.</p><h2 id="best-practices" tabindex="-1">Best Practices <a class="header-anchor" href="#best-practices" aria-label="Permalink to &quot;Best Practices&quot;">​</a></h2><p>When using Bagisto&#39;s Core helpers, consider these recommendations:</p><div class="tip custom-block"><p class="custom-block-title">Performance</p><ul><li>Cache results of expensive operations like <code>getAllChannels()</code> when used repeatedly</li><li>Use specific methods rather than general ones when possible (e.g., <code>getCurrentChannelCode()</code> vs <code>getCurrentChannel()-&gt;code</code>)</li></ul></div><div class="warning custom-block"><p class="custom-block-title">Context Awareness</p><ul><li>Always consider the current channel/locale context when using helpers</li><li>Be aware that some methods may return different results based on the current request context</li></ul></div><div class="info custom-block"><p class="custom-block-title">Error Handling</p><ul><li>Many Core methods return null or empty collections when data is not found</li><li>Always validate return values, especially when working with optional parameters</li></ul></div>`,200)]))}const g=i(n,[["render",h]]);export{o as __pageData,g as default};
